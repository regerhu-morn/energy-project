<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>åœ‹éš›æ–°èƒ½æºæ¡ˆä¾‹æ¢æ</title>
    <style>
        :root {
            --bg-dark: #050505; /* ç¨å¾®æ·±ä¸€é»æå‡ 3D å°æ¯” */
            --card-bg: #121212;
            --border-line: #333;
        }

        body { 
            margin: 0; background: var(--bg-dark); color: white; 
            font-family: "PingFang TC", "Microsoft JhengHei", sans-serif; 
            overflow: hidden;
            display: grid; 
            grid-template-columns: 300px 1fr 400px; /* å¯¬åº¦å¾®èª¿ç¢ºä¿ iPad ä¸æ“ å£“ */
            width: 100vw; height: 100vh;
        }

        /* --- å·¦å´é¢æ¿ --- */
        #left-panel { 
            z-index: 2000; padding: 50px 25px; 
            background: var(--bg-dark); border-right: 1px solid var(--border-line);
            display: flex; flex-direction: column; 
            pointer-events: auto;
        }

        .nav-item { 
            display: block; padding: 22px 18px; background: var(--card-bg); 
            border-radius: 12px; color: rgba(255,255,255,0.35); 
            font-size: 15px; transition: 0.4s cubic-bezier(0.2, 0.8, 0.2, 1); 
            border: 1px solid var(--border-line); 
            cursor: pointer; margin-bottom: 16px;
            -webkit-tap-highlight-color: transparent;
        }
        
        /* ğŸ’¡ é¡è‰²æå®šï¼šé¸ä¸­æ™‚çš„é«˜äº®èˆ‡ç™¼å…‰ */
        .nav-item.active.saf-theme { border-color: #00f2ff; color: #00f2ff; box-shadow: 0 0 20px rgba(0, 242, 255, 0.25); }
        .nav-item.active.ccs-theme { border-color: #00ff88; color: #00ff88; box-shadow: 0 0 20px rgba(0, 255, 136, 0.25); }
        .nav-item.active.us-theme { border-color: #ff4d4d; color: #ff4d4d; box-shadow: 0 0 20px rgba(255, 77, 77, 0.25); }

        /* --- ä¸­å¤® 3D å€åŸŸ --- */
        #spline-container { position: relative; z-index: 1; background: #000; overflow: hidden; }
        
        #touch-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 500; cursor: pointer; background: rgba(0,0,0,0);
            pointer-events: auto; 
        }

        #glow-backlight {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 450px; height: 450px; border-radius: 50%; z-index: 0;
            transition: box-shadow 0.8s ease; opacity: 0.5;
        }

        #main-model { width: 100%; height: 100%; pointer-events: none; }

        /* --- å³å´æ•¸æ“šé¢æ¿ --- */
        #right-panel { 
            z-index: 2000; padding: 50px 25px; 
            border-left: 1px solid var(--border-line); 
            background: var(--bg-dark); 
        }
        
        #data-container { 
            background: var(--card-bg); border-radius: 16px; padding: 30px; 
            border: 1px solid #444; min-height: 300px;
            transition: all 0.5s ease;
        }
        
        .table-title { font-size: 20px; font-weight: bold; margin-bottom: 30px; border-left: 6px solid; padding-left: 15px; }
        table { width: 100%; font-size: 14px; color: #ccc; border-collapse: collapse; }
        td { padding: 18px 0; border-bottom: 1px solid #282828; vertical-align: top; line-height: 1.5; }
        .val { color: #fff; font-weight: bold; padding: 0 12px; }

        @media (max-width: 1024px) {
            body { grid-template-columns: 250px 1fr 320px; }
            .nav-item { font-size: 13px; }
        }
    </style>
</head>
<body>

    <div id="left-panel">
        <h1 style="font-size: 24px; margin-bottom: 8px;">èƒ½æºæ¡ˆä¾‹æ¢æ</h1>
        <div style="font-size:12px; color: #555; margin-bottom:35px; letter-spacing: 2px;">CASE ANALYSIS HUB</div>
        <div class="nav-group">
            <div id="nav-0" onclick="updateUI(0, event)" class="nav-item"><strong>SAF</strong> ç”¢æ¥­åŒ–é€²ç¨‹</div>
            <div id="nav-1" onclick="updateUI(1, event)" class="nav-item"><strong>CCS</strong> è·¨åœ‹åˆä½œ</div>
            <div id="nav-2" onclick="updateUI(2, event)" class="nav-item"><strong>USA</strong> æ”¿ç­–è½‰å‘</div>
        </div>
    </div>

    <div id="spline-container">
        <div id="touch-overlay" onclick="nextCase()"></div>
        <div id="glow-backlight"></div>
        <script type="module" src="https://unpkg.com/@splinetool/viewer@1.0.28/build/spline-viewer.js"></script>
        <spline-viewer id="main-model" url="https://prod.spline.design/cE6TgHmxUeFvM0Q3/scene.splinecode"></spline-viewer>
    </div>

    <div id="right-panel">
        <div id="data-container">
            <div id="table-title" class="table-title">INITIATING...</div>
            <table><tbody id="table-body"></tbody></table>
        </div>
    </div>

   <script>
    // ğŸ’¡ å·²æ•´åˆä½ æœ€æ–°çš„æ•¸æ“šå¤§ç¶±
    var sequence = [
        { 
            title: '1. SAF ç”¢æ¥­åŒ–é€²ç¨‹', 
            color: '#00f2ff', 
            theme: 'saf-theme', 
            glow: 'rgba(0, 242, 255, 0.5)',
            rows: [
                ['å°å°¼ Pertamina', 'UCO å»¢æ²¹é‡ç”¢ / å•†æ¥­é¦–èˆª', 'å®Œæˆç”¢æ¥­éˆé–‰ç’°ï¼Œå–å¾—èªè­‰'], 
                ['æ–°åŠ å¡ SAFCo', 'ä¸­å¤®æ¡è³¼ / å¾µæ”¶é™„åŠ è²»', 'å»ºç«‹ç©©å®šæ©Ÿåˆ¶ï¼Œç¢ºç«‹å€åŸŸæ¨ç´'], 
                ['äºå¤ªç”Ÿè³ªç…‰æ²¹', 'è¶Šé¦¬æŠ•å…¥å¤§å‹ç…‰æ²¹å» ', 'SAF æˆç‚ºå€åŸŸè„«ç¢³æ ¸å¿ƒæ‰‹æ®µ']
            ] 
        },
        { 
            title: '2. CCS è·¨åœ‹åˆä½œ', 
            color: '#00ff88', 
            theme: 'ccs-theme', 
            glow: 'rgba(0, 255, 136, 0.5)',
            rows: [
                ['è¡Œæ”¿é«”åˆ¶åŒ–', 'ç¾åœ‹ Class VI ç›£ç®¡ä¸‹æ”¾', 'åŠ é€Ÿå¯©æ ¸ï¼Œé™ä½æ³•è¦é¢¨éšª'], 
                ['S-Hub æ¨ç´', 'æ–°é¦¬å°å€åŸŸå„²ç¢³åˆä½œ', 'è§£æ±ºè·¨å¢ƒæ³•è¦ï¼Œå…±äº«æ¨¡å¼'], 
                ['æ¾³æ´² Bonaparte', 'ç²é‡å¤§è¨ˆç•«åœ°ä½', 'åƒè¬å™¸ç´šå°å­˜ï¼Œæ”¯æ’æ¸›ç¢³']
            ] 
        },
        { 
            title: '3. ç¾åœ‹æ”¿ç­–è½‰å‘', 
            color: '#ff4d4d', 
            theme: 'us-theme', 
            glow: 'rgba(255, 77, 77, 0.5)',
            rows: [
                ['OBBBA æ³•æ¡ˆ', 'æ¨å‹•ã€Œèƒ½æºå„ªå…ˆã€è½‰å‘', 'å–æ¶ˆç§Ÿè³ƒé™åˆ¶ï¼Œæ”¾å¯¬æ’æ”¾è²»'], 
                ['è£œè²¼å‰Šæ¸›', 'ç¸®æ¸› 45V ç¨…æ”¶å„ªæƒ ', 'å¼•ç™¼å…¨çƒæŠ•è³‡é‡ä¼°åœ¨ç¾ä½ˆå±€'], 
                ['è³‡é‡‘æŒªç§»', 'è³‡æœ¬å¾ç¾è½‰å‘æ­äºå¸‚å ´', 'äºæ´²åŠ é€Ÿè‡ªä¸»ä¾›æ‡‰éˆå»ºè¨­']
            ] 
        }
    ];

    var clickCount = 0; // è¿½è¹¤é»æ“Šæ¬¡æ•¸

    function updateUI(idx, event) {
        if (event) event.stopPropagation(); // é˜²æ­¢ iPad é»æ“Šç©¿é€åˆ°èƒŒæ™¯åœ°çƒ
        
        clickCount = idx; // åŒæ­¥é»æ“Šç´¢å¼•
        var data = sequence[idx];

        // è¦–è¦ºéå ´æ•ˆæœ
        const container = document.getElementById('data-container');
        container.style.opacity = 0;
        container.style.transform = "translateY(10px)";

        setTimeout(() => {
            document.getElementById('table-title').innerText = data.title;
            document.getElementById('table-title').style.color = data
