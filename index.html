<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>åœ‹éš›æ–°èƒ½æºæ¡ˆä¾‹æ¢æ</title>
    <style>
        body { 
            margin: 0; background: #000; color: white; 
            font-family: -apple-system, "Microsoft JhengHei", sans-serif; 
            overflow: hidden; display: flex; height: 100vh;
        }

        /* ğŸ’¡ æ ¸å¿ƒä¿®æ­£ 1ï¼šæå‡åˆ†é å±¤ç´šï¼Œç¢ºä¿ iPad é»å¾—åˆ° */
        #left-panel { 
            width: 300px; z-index: 9999; padding: 30px; 
            background: rgba(0,0,0,0.9); position: relative; 
        }
        .nav-item { 
            display: block; padding: 20px 15px; margin-bottom: 12px; 
            background: rgba(255,255,255,0.08); border: 2px solid rgba(255,255,255,0.1);
            border-radius: 12px; cursor: pointer; color: #aaa; 
            font-size: 16px; transition: 0.3s;
            -webkit-tap-highlight-color: transparent; /* ç§»é™¤ iPad é»æ“Šé™°å½± */
        }
        .nav-item.active { color: #fff; background: rgba(255,255,255,0.15); }

        /* ğŸ’¡ æ ¸å¿ƒä¿®æ­£ 2ï¼šè§£æ±ºé¡è‰²ç›¸åå•é¡Œï¼Œæ”¹ç”¨æœ€ç©©å®šçš„ Overlay æ¨¡å¼ */
        #spline-container { flex: 1; position: relative; background: #000; overflow: hidden; }
        
        #color-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 50; pointer-events: none; /* ç©¿é€é»æ“Š */
            mix-blend-mode: screen; /* åªæŸ“äº®éƒ¨ï¼Œä¸æŸ“é»‘åº• */
            transition: background 0.6s ease;
        }

        /* ç§‘æŠ€èª¿è‰²ç›¤ */
        .tech-blue { background: rgba(0, 242, 255, 0.45); }
        .tech-green { background: rgba(0, 255, 136, 0.55); }
        .tech-red { background: rgba(255, 77, 77, 0.55); }

        #main-model { width: 100%; height: 100%; pointer-events: none; }

        /* ğŸ’¡ æ ¸å¿ƒä¿®æ­£ 3ï¼šiPad åœ°çƒé»æ“Šå°ˆç”¨å±¤ */
        #touch-trigger { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            z-index: 100; cursor: pointer; 
        }

        #right-panel { width: 350px; padding: 20px; z-index: 100; }
        #data-box { display: none; background: rgba(25,25,30,0.95); padding: 25px; border-radius: 15px; border: 1px solid rgba(255,255,255,0.2); backdrop-filter: blur(10px); }

        /* iPad / æ‰‹æ©Ÿç›´å‘æ’ç‰ˆ */
        @media (max-width: 1024px) {
            body { flex-direction: column; overflow-y: auto; }
            #left-panel { width: 100%; height: auto; padding: 20px; }
            #spline-container { height: 45vh; flex: none; }
            #right-panel { width: 100%; padding: 15px; }
        }
    </style>
</head>
<body>

<div id="left-panel">
    <h2 style="margin-bottom:20px;">æ–°èƒ½æºæ¡ˆä¾‹</h2>
    <div onclick="updateAll(0)" id="nav-0" class="nav-item"><strong>SAF</strong> ç”¢æ¥­éˆå»ºç«‹</div>
    <div onclick="updateAll(1)" id="nav-1" class="nav-item"><strong>CCS</strong> è·¨å¢ƒæ¨ç´</div>
    <div onclick="updateAll(2)" id="nav-2" class="nav-item"><strong>USA</strong> æ”¿ç­–é¢¨éšª</div>
</div>

<div id="spline-container">
    <div id="color-overlay" class="tech-blue"></div>
    <div id="touch-trigger" onclick="nextStep()"></div>
    
    <script type="module" src="https://unpkg.com/@splinetool/viewer@1.0.28/build/spline-viewer.js"></script>
    <spline-viewer id="main-model" url="https://prod.spline.design/cE6TgHmxUeFvM0Q3/scene.splinecode"></spline-viewer>
</div>

<div id="right-panel">
    <div id="data-box">
        <h3 id="d-title" style="border-left: 5px solid; padding-left: 12px;"></h3>
        <p id="d-info" style="line-height: 1.6; opacity: 0.9;"></p>
    </div>
</div>

<script>
    const dataList = [
        { name: '1. SAF ç”¢æ¥­åŒ–', color: '#00f2ff', bg: 'tech-blue', txt: 'å°å°¼ Pertamina å¯¦ç¾ UCO é‡ç”¢ã€‚' },
        { name: '2. CCS è·¨å¢ƒåˆä½œ', color: '#00ff88', bg: 'tech-green', txt: 'æ–°é¦¬å°åˆä½œ S-Hub æ¨ç´æ¨¡å¼ã€‚' },
        { name: '3. ç¾åœ‹æ”¿ç­–è½‰å‘', color: '#ff4d4d', bg: 'tech-red', txt: 'OBBBA æ³•æ¡ˆçµæ§‹è½‰å‘ï¼Œèƒ½æºå„ªå…ˆã€‚' }
    ];

    let count = 0;

    function updateAll(idx) {
        count = idx;
        const item = dataList[count];

        // 1. æ›è‰² (ä½¿ç”¨ Overlay æ–¹æ¡ˆï¼ŒèƒŒæ™¯çµ•ä¸åè‰²) [cite: 2026-02-10]
        document.getElementById('color-overlay').className = item.bg;

        // 2. æ›è³‡æ–™
        document.getElementById('data-box').style.display = 'block';
        const title = document.getElementById('d-title');
        title.innerText = item.name;
        title.style.color = item.color;
        title.style.borderColor = item.color;
        document.getElementById('d-info').innerText = item.txt;

        // 3. æ›æŒ‰éˆ•æ¨£å¼
        document.querySelectorAll('.nav-item').forEach((btn, i) => {
            btn.classList.toggle('active', i === idx);
            btn.style.borderColor = (i === idx) ? item.color : 'rgba(255,255,255,0.1)';
            btn.style.color = (i === idx) ? item.color : '#aaa';
        });
    }

    function nextStep() {
        count = (count + 1) % 3;
        updateAll(count);
    }
</script>

</body>
</html>
