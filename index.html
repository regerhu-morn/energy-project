<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>åœ‹éš›æ–°èƒ½æºæ¡ˆä¾‹æ¢æ</title>
    <style>
        body { margin: 0; background: #000; color: white; font-family: sans-serif; overflow: hidden; display: flex; height: 100vh; }
        
        /* ğŸ’¡ iPad é»æ“Šé—œéµï¼šz-index è¨­ç‚ºæœ€é«˜ï¼Œä¸¦ç¢ºä¿ pointer-events ç‚º auto */
        #left-panel { 
            width: 320px; z-index: 9999; padding: 30px; 
            background: rgba(0,0,0,0.85); position: relative; 
            pointer-events: auto; 
        }
        .nav-item { 
            display: block; padding: 18px 15px; margin-bottom: 12px; 
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 10px; cursor: pointer; color: #888; transition: 0.3s;
            -webkit-tap-highlight-color: transparent;
        }
        .nav-item.active { color: #fff; background: rgba(255,255,255,0.12); }

        #spline-container { flex: 1; position: relative; background: #000; overflow: hidden; }
        
        /* è§£æ±ºé¡è‰²ç›¸åçš„ Overlay æ–¹æ¡ˆ */
        #color-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 50; pointer-events: none; 
            mix-blend-mode: screen; 
            transition: background 0.5s ease;
        }
        .tech-blue { background: rgba(0, 242, 255, 0.4); }
        .tech-green { background: rgba(0, 255, 136, 0.5); }
        .tech-red { background: rgba(255, 77, 77, 0.5); }

        #main-model { width: 100%; height: 100%; pointer-events: none; }
        #touch-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 100; cursor: pointer; }

        /* å³å´é¢æ¿æ•¸æ“šå€ */
        #right-panel { width: 400px; padding: 20px; z-index: 1000; position: relative; }
        #data-box { display: none; background: rgba(15,15,20,0.95); padding: 20px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.15); backdrop-filter: blur(10px); }
        
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        td { padding: 12px 5px; border-bottom: 1px solid rgba(255,255,255,0.08); font-size: 13px; vertical-align: top; }

        @media (max-width: 1024px) {
            body { flex-direction: column; overflow-y: auto; }
            #left-panel { width: 100%; height: auto; box-sizing: border-box; }
            #spline-container { height: 40vh; flex: none; }
            #right-panel { width: 100%; box-sizing: border-box; }
        }
    </style>
</head>
<body>

<div id="left-panel">
    <h2 style="font-size: 1.2rem; margin-bottom: 20px;">æ–°èƒ½æºæ¡ˆä¾‹æ¢æ</h2>
    <div onclick="changeCase(0)" id="nav-0" class="nav-item"><strong>SAF</strong> ç”¢æ¥­åŒ–é€²ç¨‹</div>
    <div onclick="changeCase(1)" id="nav-1" class="nav-item"><strong>CCS</strong> è·¨åœ‹åˆä½œ</div>
    <div onclick="changeCase(2)" id="nav-2" class="nav-item"><strong>USA</strong> æ”¿ç­–è½‰å‘</div>
</div>

<div id="spline-container">
    <div id="color-overlay" class="tech-blue"></div>
    <div id="touch-layer" onclick="nextCase()"></div>
    <script type="module" src="https://unpkg.com/@splinetool/viewer@1.0.28/build/spline-viewer.js"></script>
    <spline-viewer id="main-model" url="https://prod.spline.design/cE6TgHmxUeFvM0Q3/scene.splinecode"></spline-viewer>
</div>

<div id="right-panel">
    <div id="data-box">
        <h3 id="data-title" style="margin: 0; padding-left: 10px; border-left: 4px solid;"></h3>
        <table>
            <tbody id="data-table-body"></tbody>
        </table>
    </div>
</div>

<script>
    // ğŸ’¡ å·²ç¶“å°‡ä½ æä¾›çš„æœ€æ–° sequence è³‡æ–™æ”¹é€²å»
    const sequence = [
        { 
            title: '1. SAF ç”¢æ¥­åŒ–é€²ç¨‹', 
            color: '#00f2ff', 
            bgClass: 'tech-blue', 
            rows: [
                ['å°å°¼ Pertamina', 'UCO å»¢æ²¹é‡ç”¢ / å•†æ¥­é¦–èˆª', 'å®Œæˆç”¢æ¥­éˆé–‰ç’°'], 
                ['æ–°åŠ å¡ SAFCo', 'ä¸­å¤®æ¡è³¼ / å¾µæ”¶é™„åŠ è²»', 'ç¢ºç«‹å€åŸŸæ¨ç´'], 
                ['äºå¤ªç”Ÿè³ªç…‰æ²¹', 'è¶Šé¦¬æŠ•å…¥å¤§å‹ç…‰æ²¹å» ', 'è„«ç¢³æ ¸å¿ƒæ‰‹æ®µ']
            ] 
        },
        { 
            title: '2. CCS è·¨åœ‹åˆä½œ', 
            color: '#00ff88', 
            bgClass: 'tech-green', 
            rows: [
                ['è¡Œæ”¿é«”åˆ¶åŒ–', 'ç¾åœ‹ç›£ç®¡æ¬Šä¸‹æ”¾', 'åŠ é€Ÿå¯©æ ¸æµç¨‹'], 
                ['S-Hub æ¨ç´', 'æ–°é¦¬å°å€åŸŸå„²ç¢³åˆä½œ', 'å…±äº«ç¶“æ¿Ÿæ¨¡å¼'], 
                ['æ¾³æ´² Bonaparte', 'é‡å¤§è¨ˆç•«åœ°ä½æˆæ¬Š', 'åƒè¬å™¸ç´šå°å­˜']
            ] 
        },
        { 
            title: '3. ç¾åœ‹æ”¿ç­–è½‰å‘', 
            color: '#ff4d4d', 
            bgClass: 'tech-red', 
            rows: [
                ['OBBBA æ³•æ¡ˆ', 'èƒ½æºå„ªå…ˆçµæ§‹è½‰å‘', 'æ”¾å¯¬æ’æ”¾è²»'], 
                ['è£œè²¼å‰Šæ¸›', 'ç¸®æ¸› 45V ç¨…æ”¶å„ªæƒ ', 'é‡ä¼°åœ¨ç¾ä½ˆå±€'], 
                ['è³‡é‡‘æŒªç§»', 'è³‡æœ¬è½‰å‘æ­äºå¸‚å ´', 'åŠ é€Ÿè‡ªä¸»ä¾›æ‡‰éˆ']
            ] 
        }
    ];

    let current = 0;

    function changeCase(idx) {
        current = idx;
        const data = sequence[current];
        
        // 1. æ›´æ–°åœ°çƒé¡è‰²
        document.getElementById('color-overlay').className = data.bgClass;
        
        // 2. æ›´æ–°å³å´è¡¨æ ¼
        document.getElementById('data-box').style.display = 'block';
        const titleEl = document.getElementById('data-title');
        titleEl.innerText = data.title;
        titleEl.style.color = data.color;
        titleEl.style.borderColor = data.color;

        let html = "";
        data.rows.forEach(r => {
            html += `<tr>
                <td style="color:${data.color}; font-weight:bold; width:30%;">${r[0]}</td>
                <td style="width:40%;">${r[1]}</td>
                <td style="opacity:0.7; font-size:12px;">${r[2]}</td>
            </tr>`;
        });
        document.getElementById('data-table-body').innerHTML = html;

        // 3. æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
        document.querySelectorAll('.nav-item').forEach((item, i) => {
            item.classList.toggle('active', i === idx);
            item.style.borderColor = (i === idx) ? data.color : 'rgba(255,255,255,0.1)';
            item.style.color = (i === idx) ? data.color : '#888';
        });
    }

    function nextCase() {
        current = (current + 1) % 3;
        changeCase(current);
    }
</script>

</body>
</html>
